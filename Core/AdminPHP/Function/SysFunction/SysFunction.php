<?phpfunction htmlspecialchars2($string) {	if(is_array($string)) {		foreach($string as $key => $val) {			$string[$key] = htmlspecialchars2($val);		}	} else {		$string = htmlspecialchars($string);	}	return $string;}function real_ip(){	$ip = $_SERVER['REMOTE_ADDR'];	if (isset($_SERVER['HTTP_CF_CONNECTING_IP']) && preg_match('/^([0-9]{1,3}\.){3}[0-9]{1,3}$/', $_SERVER['HTTP_CF_CONNECTING_IP'])) {		$ip = $_SERVER['HTTP_CF_CONNECTING_IP'];	} elseif (isset($_SERVER['HTTP_CLIENT_IP']) && preg_match('/^([0-9]{1,3}\.){3}[0-9]{1,3}$/', $_SERVER['HTTP_CLIENT_IP'])) {		$ip = $_SERVER['HTTP_CLIENT_IP'];	} elseif(isset($_SERVER['HTTP_X_FORWARDED_FOR']) AND preg_match_all('#\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}#s', $_SERVER['HTTP_X_FORWARDED_FOR'], $matches)) {		foreach ($matches[0] AS $xip) {			if (!preg_match('#^(10|172\.16|192\.168)\.#', $xip)) {				$ip = $xip;				break;			}		}	}	return $ip;}function safePath($dir){	return str_replace(RootDir,"",$dir);}function getArgs($value) {	return isset($_GET[$value]) ? $_GET[$value] : (isset($_POST[$value]) ? $_POST[$value] : null);}function strFilter($str){	$str = str_replace('\\', '', $str);	$str = str_replace('[', '', $str);	$str = str_replace(']', '', $str);	$str = str_replace('{', '', $str);	$str = str_replace('}', '', $str);	$str = str_replace(';', '', $str);	$str = str_replace(':', '', $str);	$str = str_replace('：', '', $str);	$str = str_replace('\'', '', $str);	$str = str_replace('<', '', $str);	$str = str_replace('>', '', $str);	$str = str_replace('"', '', $str);	$str = str_replace(',', '', $str);	$str = str_replace("'", '', $str);	$str = str_replace('.', '', $str);	$str = str_replace('/', '', $str);	return trim($str);}function SysInfo($SysInfo){	$SysInfo=safePath($SysInfo);	$SysInfo['Code']=(isset($SysInfo['Code']) ? $SysInfo['Code'] : '404');	$SysInfo['Title']=(isset($SysInfo['Title']) ? $SysInfo['Title'] : 'Mogegegegegege~~~');	$SysInfo['Info']=(isset($SysInfo['Info']) ? $SysInfo['Info'] : '您访问的页面，呃，鬼知道跑哪去了(´･ω･`)');	$SysInfo['Text']=(isset($SysInfo['Text']) ? $SysInfo['Text'] : '1.你的节操掉光啦~~~<br>2.你的人品掉光啦~~~<br>3.你撸多了输错了地址~~~<br>4.手残⑨级输错了地址~~~');	$SysInfo['TextTitle']=(isset($SysInfo['TextTitle']) ? $SysInfo['TextTitle'] : '可能是因为：');		header('HTTP/1.1 500 System info');?><html lang=cn>	<head>		<title><?=$SysInfo["Title"]?></title>		<META http-equiv="content-type" content="text/html; charset=UTF-8">		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">		<link href="/assets/css/adminphp.css" rel="stylesheet">	</head>			<body class="">		<div class="adminphp_info">			<div class="adminphp_info_img adminphp_info_img_info"></div>			<div class="adminphp_info_code">				<p><span><?=$SysInfo["Code"]?></span></p>				<p style="color:#bdc3fd;"><?=$SysInfo["Info"]?></p>			</div>			<div class="adminphp_info_text">				<p><?=$SysInfo["TextTitle"]?></p>				<div class="adminphp_info_text_list">					<?=$SysInfo["Text"]?>				</div>				<a href="/" target="_self">					<button class="success">返回首页</button>				</a>				<a href="javascript:history.go(-1)" target="_self">					<button class="danger">返回上一层</button>				</a>			</div>		</div>												<div class="adminphp_info adminphp_powered">			Powered By <a target="_blank" href="//www.adminphp.net/">AdminPHP<sup>0.1</sup></a>		</div>	</body></html><?php	exit();} 